<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="Generator" content="EditPlus®">
		<meta name="Author" content="">
		<meta name="Keywords" content="">
		<meta name="Description" content="">
		<title>Document</title>
		<style>
			* {
				padding: 0;
				margin: 0;
			}
			ul{
				width: 100%;
				height: 2000px;
				background-color: plum;
			}
			#box {
				border: 1px solid black;
				width: 500px;
				text-align: center;
				/* display: none; */
				position: absolute;
				left: 500px;
				top: 300px;
				cursor: pointer;
			}
			#box h3 {
				background: skyblue;
				color: white;
				text-align: center;
			}
			#box h3 span {
				float: right;
			}
			#back{
				width: 100%;
				height: 100vh;
				background-color: rgba(0,0,0,0.5);
				position: fixed;
				left: 0;
				top: 0;
				display: none;
			}
		</style>
	</head>
	<body>
		<button id="btn1"> 发布微博 </button>
		<ul>
			<li>
				今天下雨了~
			</li>
			<li>
				今天下雨了~
			</li>
			<li>
				今天下雨了~
			</li>
		</ul>
		
	
		<div id="back">
			<div id="box">
				<h3 id="title"> 发布微博  <span id="close"> X </span> </h3>
				<p>
					请输入您要发布的文字
				</p>
				<textarea>
				</textarea>
				<div>
					<button> 确定 </button>
					<button id="btn2"> 取消 </button>
				</div>
			</div>
		</div>
		<script>
			var oBtn1 = document.getElementById("btn1");
			var oBox = document.getElementById("box");
			var oClose = document.getElementById("close");
			var oBtn2 = document.getElementById("btn2");
			var oTitle = document.getElementById("title");
			var oBack = document.getElementById("back");

			oBtn1.onclick = function(){
				oBack.style.display = "block";
			}
			oClose.onclick = function(){
				oBack.style.display = "none";
			}
			oBtn2.onclick = function(){
				oBack.style.display = "none";
			}
			oTitle.onmousedown = function(e1){
				e1.preventDefault();
				var detaX = e1.clientX - oBox.offsetLeft;
				var detaY = e1.clientY - oBox.offsetTop;
				document.onmousemove = function(e2){
					var x = e2.clientX - detaX;
					var y = e2.clientY - detaY;
					x = (x < 0) ? 0 : x;
					y = (y < 0) ? 0 : y;
					oBox.style.left = x + "px";
					oBox.style.top = y + "px";
				}
				document.onmouseup = function(){
					document.onmousemove = null;
				}
			}
			/*
			1. 点击“发布微博”按钮，显示对话框。 默认是看不到对话框
			2. 按住标题可以拖拽 整个 div
			3. 点击“取消” 按钮可以关闭对话框
			4. （难） 点击“X” 按钮可以关闭对话框

			16:50

			*/
		</script>
	</body>
</html>
